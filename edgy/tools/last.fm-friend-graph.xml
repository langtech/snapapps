<blocks app="Snap! 4.0, http://snap.berkeley.edu" version="1"><block-definition s="friend graph of %&apos;user&apos; to depth %&apos;d&apos;" type="command" category="external"><header></header><code></code><inputs><input type="%txt"></input><input type="%n">1</input></inputs><script><block s="doIf"><block s="reportGreaterThan"><block var="d"/><l>0</l></block><script><block s="addNode"><list><block var="user"/></list></block><block s="doIf"><block s="reportEquals"><block s="getNodeAttrib"><l>color</l><block var="user"/></block><l>white</l></block><script><block s="setNodeAttrib"><l>color</l><block var="user"/><l>red</l></block><custom-block s="for each %upvar of %l %cs"><l>friend</l><block s="getLastfmFriends"><block var="user"/></block><script><block s="addEdge"><list><block s="reportEdge"><block var="user"/><block var="friend"/></block></list></block><custom-block s="friend graph of %txt to depth %n"><block var="friend"/><block s="reportDifference"><block var="d"/><l>1</l></block></custom-block></script></custom-block></script></block></script></block></script><password></password><salt></salt></block-definition></blocks>